(this["webpackJsonpdiscord-clone-yt"]=this["webpackJsonpdiscord-clone-yt"]||[]).push([[0],{77:function(e,n,c){},81:function(e,n,c){},82:function(e,n,c){},85:function(e,n,c){},86:function(e,n,c){},89:function(e,n,c){},90:function(e,n,c){},91:function(e,n,c){},92:function(e,n,c){"use strict";c.r(n);var a=c(2),s=c.n(a),t=c(25),i=c.n(t),r=(c(77),c(17)),l=(c(81),c(36)),o=(c(82),c(49)),d=c.n(o),j=c(54),h=c.n(j),b=c(55),u=c.n(b),m=c(56),O=c.n(m),x=c(57),p=c.n(x),f=c(58),v=c.n(f),g=c(3);var _=function(e){var n=e.channelName;return Object(g.jsxs)("div",{className:"chatHeader",children:[Object(g.jsx)("div",{className:"chatHeader__left",children:Object(g.jsxs)("h3",{children:[Object(g.jsx)("span",{className:"chatHeader__hash",children:"#"}),n]})}),Object(g.jsxs)("div",{className:"chatHeader__right",children:[Object(g.jsx)(d.a,{}),Object(g.jsx)(h.a,{}),Object(g.jsx)(u.a,{}),Object(g.jsxs)("div",{className:"chatHeader__search",children:[Object(g.jsx)("input",{placeholder:"Search"}),Object(g.jsx)(O.a,{})]}),Object(g.jsx)(p.a,{}),Object(g.jsx)(v.a,{})]})]})},N=(c(85),c(60)),I=c.n(N),S=c(61),y=c.n(S),C=c(62),w=c.n(C),k=c(63),z=c.n(k),B=c(108);c(86);var A=function(e){var n=e.timestamp,c=e.user,a=e.message;return Object(g.jsxs)("div",{className:"message",children:[Object(g.jsx)(B.a,{src:c.photo}),Object(g.jsxs)("div",{className:"message__info",children:[Object(g.jsxs)("h4",{children:[c.displayName,Object(g.jsx)("span",{className:"message__timestamp",children:new Date(null===n||void 0===n?void 0:n.toDate()).toUTCString()})]}),Object(g.jsx)("p",{children:a})]})]})},D=c(28),H=Object(D.b)({name:"user",initialState:{user:null},reducers:{login:function(e,n){e.user=n.payload},logout:function(e){e.user=null}}}),E=H.actions,F=E.login,K=E.logout,T=function(e){return e.user.user},W=H.reducer,M=Object(D.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,n){e.channelId=n.payload.channelId,e.channelName=n.payload.channelName}}}),P=M.actions.setChannelInfo,V=function(e){return e.app.channelId},Y=function(e){return e.app.channelName},G=M.reducer,J=c(30),L=J.a.initializeApp({apiKey:"AIzaSyAzKYw2CXrdKgXRFtBjFgTWzf9KxiCqhwA",authDomain:"discord-clone-yt-a9ae9.firebaseapp.com",projectId:"discord-clone-yt-a9ae9",storageBucket:"discord-clone-yt-a9ae9.appspot.com",messagingSenderId:"76312587150",appId:"1:76312587150:web:a1045005390d61a3de12df",measurementId:"G-9Y1QB2Y0V7"}).firestore(),R=J.a.auth(),U=new J.a.auth.GoogleAuthProvider,X=L;var q=function(){var e=Object(r.c)(T),n=Object(r.c)(V),c=Object(r.c)(Y),s=Object(a.useState)(""),t=Object(l.a)(s,2),i=t[0],o=t[1],d=Object(a.useState)([]),j=Object(l.a)(d,2),h=j[0],b=j[1];return Object(a.useEffect)((function(){n&&X.collection("channels").doc(n).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return b(e.docs.map((function(e){return e.data()})))}))}),[n]),Object(g.jsxs)("div",{className:"chat",children:[Object(g.jsx)(_,{channelName:c}),Object(g.jsx)("div",{className:"chat__messages",children:h.map((function(e){return Object(g.jsx)(A,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(g.jsxs)("div",{className:"chat__input",children:[Object(g.jsx)(I.a,{fontSize:"large"}),Object(g.jsxs)("form",{children:[Object(g.jsx)("input",{value:i,disabled:!n,onChange:function(e){return o(e.target.value)},placeholder:"Message #".concat(c)}),Object(g.jsx)("button",{disabled:!n,className:"chat__inputButton",type:"submit",onClick:function(c){c.preventDefault(),X.collection("channels").doc(n).collection("messages").add({timestamp:J.a.firestore.FieldValue.serverTimestamp(),message:i,user:e}),o("")},children:" Send Message"})]}),Object(g.jsxs)("div",{className:"chat__inputIcons",children:[Object(g.jsx)(y.a,{fontSize:"large"}),Object(g.jsx)(w.a,{fontSize:"large"}),Object(g.jsx)(z.a,{fontSize:"large"})]})]})]})},Q=(c(89),c(44)),$=c.n(Q),Z=c(64),ee=c.n(Z);c(90);var ne=function(e){var n=e.id,c=e.channelName,a=Object(r.b)();return Object(g.jsx)("div",{className:"sidebarChannel",onClick:function(){return a(P({channelId:n,channelName:c}))},children:Object(g.jsxs)("h4",{children:[Object(g.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),c]})})},ce=c(65),ae=c.n(ce),se=c(66),te=c.n(se),ie=c(67),re=c.n(ie),le=c(68),oe=c.n(le),de=c(69),je=c.n(de),he=c(70),be=c.n(he);var ue=function(){var e=Object(r.c)(T),n=Object(a.useState)([]),c=Object(l.a)(n,2),s=c[0],t=c[1];return Object(a.useEffect)((function(){X.collection("channels").onSnapshot((function(e){return t(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(g.jsxs)("div",{className:"sidebar",children:[Object(g.jsxs)("div",{className:"sidebar__top",children:[Object(g.jsx)("h3",{children:"Clever Programmer"}),Object(g.jsx)($.a,{})]}),Object(g.jsxs)("div",{className:"sidebar__channels",children:[Object(g.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(g.jsxs)("div",{className:"sidebar__header",children:[Object(g.jsx)($.a,{}),Object(g.jsx)("h4",{children:"Text Channels"})]}),Object(g.jsx)(ee.a,{onClick:function(){var e=prompt("Enter a new channel name");e&&X.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(g.jsx)("div",{className:"sidebar__channelsList",children:s.map((function(e){var n=e.id,c=e.channel;return Object(g.jsx)(ne,{id:n,channelName:c.channelName},n)}))})]}),Object(g.jsxs)("div",{className:"sidebar__voice",children:[Object(g.jsx)(ae.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(g.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(g.jsx)("h3",{children:"Voice Connected"}),Object(g.jsx)("p",{children:"Stream"})]}),Object(g.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(g.jsx)(te.a,{}),Object(g.jsx)(re.a,{})]})]}),Object(g.jsxs)("div",{className:"sidebar__profile",children:[Object(g.jsx)(B.a,{onClick:function(){return R.signOut()},src:e.photo}),Object(g.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(g.jsx)("h3",{children:e.displayName}),Object(g.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(g.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(g.jsx)(oe.a,{}),Object(g.jsx)(je.a,{}),Object(g.jsx)(be.a,{})]})]})]})},me=c(107);c(91);var Oe=function(){return Object(g.jsxs)("div",{className:"login",children:[Object(g.jsx)("div",{className:"login__logo",children:Object(g.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/9/98/Discord_logo.svg/800px-Discord_logo.svg.png",alt:""})}),Object(g.jsx)(me.a,{onClick:function(){R.signInWithPopup(U).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var xe=function(){var e=Object(r.b)(),n=Object(r.c)(T);return Object(a.useEffect)((function(){R.onAuthStateChanged((function(n){e(n?F({uid:n.uid,photo:n.photoURL,email:n.email,displayName:n.displayName}):K())}))}),[e]),Object(g.jsx)("div",{className:"app",children:n?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ue,{}),Object(g.jsx)(q,{})]}):Object(g.jsx)(Oe,{})})},pe=Object(D.a)({reducer:{user:W,app:G}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(r.a,{store:pe,children:Object(g.jsx)(xe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[92,1,2]]]);
//# sourceMappingURL=main.5dd724f7.chunk.js.map